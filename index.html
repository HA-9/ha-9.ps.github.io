<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026节日营销拍摄剪辑甘特图</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/frappe-gantt@0.6.1/dist/frappe-gantt.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#165DFF',
                        phase1: '#4E7DE9',
                        phase2: '#63C2DE',
                        phase3: '#4ECDC4',
                        phase4: '#45B7D1',
                        phase5: '#96CEB4',
                        phase6: '#FFEAA7',
                        phase7: '#DDA0DD',
                        phase8: '#98D8C8',
                        phase9: '#F7DC6F',
                        phase10: '#BB8FCE',
                        phase11: '#85C1E9',
                        phase12: '#F8C471',
                        phase13: '#82E0AA',
                        phase14: '#F1948A',
                        phase15: '#5499C7',
                        phase16: '#F39C12',
                        phase17: '#E74C3C',
                        phase18: '#3498DB',
                        phase19: '#9B59B6',
                    },
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            .gantt-container {
                height: 1200px;
                overflow-y: auto;
            }
            .header-shadow {
                box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            }
            .task-tooltip {
                max-width: 350px;
                padding: 10px;
                background: white;
                border-radius: 6px;
                box-shadow: 0 3px 15px rgba(0,0,0,0.15);
                z-index: 100;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <!-- 页面头部 -->
    <header class="bg-white header-shadow py-6 px-4 md:px-8">
        <div class="container mx-auto">
            <h1 class="text-[clamp(1.8rem,3vw,2.5rem)] font-bold text-gray-800 flex items-center">
                <<i class="fas fa-camera-retro text-primary mr-3"></</i>
                2026节日营销拍摄剪辑甘特图
            </h1>
            <p class="text-gray-500 mt-2">聚焦19个节日拍摄剪辑任务，全周期可视化管理（负责人：张龙）</p>
        </div>
    </header>

    <!-- 主要内容区 -->
    <main class="container mx-auto py-6 px-4 md:px-8">
        <!-- 筛选工具栏 -->
        <div class="bg-white rounded-lg p-4 mb-6 shadow-sm">
            <div class="flex flex-wrap items-center gap-4">
                <div class="flex items-center">
                    <label class="text-gray-600 mr-2">筛选节日阶段：</label>
                    <select id="phase-filter" class="border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        <option value="all">全部阶段</option>
                        <option value="phase1">阶段一：元旦</option>
                        <option value="phase2">阶段二：情人节</option>
                        <option value="phase3">阶段三：春节</option>
                        <option value="phase4">阶段四：妇女节</option>
                        <option value="phase5">阶段五：植树节</option>
                        <option value="phase6">阶段六：清明节</option>
                        <option value="phase7">阶段七：劳动节</option>
                        <option value="phase8">阶段八：母亲节</option>
                        <option value="phase9">阶段九：端午节</option>
                        <option value="phase10">阶段十：父亲节</option>
                        <option value="phase11">阶段十一：七夕节</option>
                        <option value="phase12">阶段十二：中元节</option>
                        <option value="phase13">阶段十三：教师节</option>
                        <option value="phase14">阶段十四：中秋节</option>
                        <option value="phase15">阶段十五：国庆节</option>
                        <option value="phase16">阶段十六：重阳节</option>
                        <option value="phase17">阶段十七：双11</option>
                        <option value="phase18">阶段十八：双十二</option>
                        <option value="phase19">阶段十九：圣诞节</option>
                    </select>
                </div>
                <div class="flex items-center">
                    <label class="text-gray-600 mr-2">筛选负责人：</label>
                    <select id="owner-filter" class="border border-gray-300 rounded-md px-3 py-1.5 focus:outline-none focus:ring-2 focus:ring-primary/50">
                        <option value="all">全部负责人</option>
                        <option value="张龙">张龙（剪辑部负责人）</option>
                        <option value="段铭真">段铭真（拍摄剪辑人员）</option>
                        <option value="王瑞锋">王瑞锋（拍摄剪辑人员）</option>
                    </select>
                </div>
                <button id="reset-filter" class="ml-auto bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-1.5 rounded-md transition-colors flex items-center">
                    <<i class="fas fa-redo mr-2"></</i>重置筛选
                </button>
            </div>
        </div>

        <!-- 甘特图容器 -->
        <div class="bg-white rounded-lg shadow-sm p-4">
            <div id="gantt-chart" class="gantt-container"></div>
        </div>

        <!-- 图例说明 -->
        <div class="mt-6 bg-white rounded-lg p-4 shadow-sm">
            <h3 class="font-semibold text-gray-800 mb-3 flex items-center">
                <<i class="fas fa-info-circle text-primary mr-2"></</i>图例说明（拍摄剪辑核心任务）
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-3">
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase1 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段一：元旦（2025.12.26-2026.1.6）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase2 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段二：情人节（2026.2.11-2026.2.16）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase3 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段三：春节（2026.2.10-2026.2.26）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase4 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段四：妇女节（2026.3.3-2026.3.10）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase5 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段五：植树节（2026.3.10-2026.3.14）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase6 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段六：清明节（2026.3.31-2026.4.8）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase7 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段七：劳动节（2026.4.25-2026.5.5）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase8 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段八：母亲节（2026.5.6-2026.5.14）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase9 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段九：端午节（2026.6.15-2026.6.24）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase10 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十：父亲节（2026.6.15-2026.6.24）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase11 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十一：七夕节（2026.8.15-2026.8.23）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase12 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十二：中元节（2026.8.23-2026.8.29）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase13 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十三：教师节（2026.9.1-2026.9.14）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase14 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十四：中秋节（2026.9.21-2026.9.28）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase15 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十五：国庆节（2026.9.28-2026.10.9）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase16 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十六：重阳节（2026.10.15-2026.10.20）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase17 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十七：双11（2026.10.25-2026.11.16）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase18 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十八：双十二（2026.12.5-2026.12.19）</span>
                </div>
                <div class="flex items-center">
                    <span class="w-4 h-4 rounded-sm bg-phase19 mr-2"></span>
                    <span class="text-sm text-gray-600">阶段十九：圣诞节（2026.12.20-2026.12.28）</span>
                </div>
            </div>
        </div>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-800 text-white py-6 mt-10">
        <div class="container mx-auto px-4 md:px-8 text-center text-sm">
            <p>© 2026 节日营销拍摄剪辑管理系统 | 甘特图可视化工具</p>
            <p class="mt-1 text-gray-400">核心任务：节日素材拍摄 + 抖音风格剪辑（带话题/POI/团购链接）</p>
        </div>
    </footer>

    <!-- 任务详情弹窗 -->
    <div id="task-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg w-full max-w-2xl max-h-[80vh] overflow-y-auto p-6">
            <div class="flex justify-between items-center mb-4">
                <h3 id="modal-title" class="text-xl font-bold text-gray-800"></h3>
                <button id="close-modal" class="text-gray-500 hover:text-gray-700">
                    <<i class="fas fa-times text-xl"></</i>
                </button>
            </div>
            <div class="space-y-4 text-gray-700">
                <div>
                    <span class="font-semibold text-gray-600">所属节日阶段：</span>
                    <span id="modal-phase"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-600">执行周期：</span>
                    <span id="modal-time"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-600">负责人：</span>
                    <span id="modal-owner"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-600">协同人员：</span>
                    <span id="modal-team"></span>
                </div>
                <div>
                    <span class="font-semibold text-gray-600">拍摄剪辑要求：</span>
                    <div id="modal-content" class="mt-2 p-3 bg-gray-50 rounded-md"></div>
                </div>
            </div>
            <div class="mt-6 text-right">
                <button id="modal-close-btn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md transition-colors">
                    关闭
                </button>
            </div>
        </div>
    </div>

    <script>
        // 拍摄剪辑专属甘特图数据（完全匹配拍摄.docx内容）
        const ganttData = [
            // 阶段一：元旦
            {
                id: 'shoot-p1-1',
                name: '视频拍摄剪辑',
                start: '2025-12-26',
                end: '2025-12-29',
                progress: 100,
                phase: 'phase1',
                phaseName: '阶段一：元旦',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 安排专业团队到店拍摄元旦节日宣推素材；2. 按节日主题剪辑，符合抖音风格，突出节日氛围与产品亮点；3. 视频需带节日热点话题、POI定位及团购链接'
            },
            // 阶段二：情人节
            {
                id: 'shoot-p2-1',
                name: '视频拍摄剪辑',
                start: '2026-02-11',
                end: '2026-02-12',
                progress: 100,
                phase: 'phase2',
                phaseName: '阶段二：情人节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄情人节主题素材，突出情侣消费场景与产品浪漫属性；2. 剪辑情人节专属抖音短视频，符合平台风格；3. 带节日热点话题、POI定位及团购链接'
            },
            // 阶段三：春节
            {
                id: 'shoot-p3-1',
                name: '视频拍摄剪辑',
                start: '2026-02-10',
                end: '2026-02-16',
                progress: 100,
                phase: 'phase3',
                phaseName: '阶段三：春节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄春节宣推素材（年货展示、家庭团圆场景、门店春节布置）；2. 剪辑符合抖音风格的春节短视频，突出节日氛围与套餐优惠；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段四：妇女节
            {
                id: 'shoot-p4-1',
                name: '视频拍摄剪辑',
                start: '2026-03-03',
                end: '2026-03-06',
                progress: 100,
                phase: 'phase4',
                phaseName: '阶段四：妇女节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄妇女节主题素材，突出女性消费场景与产品对女性的价值；2. 剪辑符合女性审美风格的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段五：植树节
            {
                id: 'shoot-p5-1',
                name: '视频拍摄剪辑',
                start: '2026-03-10',
                end: '2026-03-11',
                progress: 100,
                phase: 'phase5',
                phaseName: '阶段五：植树节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄环保场景、树苗种植过程、商家环保举措等素材；2. 剪辑融入环保元素的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段六：清明节
            {
                id: 'shoot-p6-1',
                name: '视频拍摄剪辑',
                start: '2026-03-31',
                end: '2026-04-02',
                progress: 100,
                phase: 'phase6',
                phaseName: '阶段六：清明节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄踏青场景、祭祀用品展示等素材；2. 剪辑符合清明节氛围的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段七：劳动节
            {
                id: 'shoot-p7-1',
                name: '视频拍摄剪辑',
                start: '2026-04-25',
                end: '2026-04-29',
                progress: 100,
                phase: 'phase7',
                phaseName: '阶段七：劳动节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄假期相关素材（旅游、美食、家居产品使用场景）；2. 剪辑符合假期氛围的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段八：母亲节
            {
                id: 'shoot-p8-1',
                name: '视频拍摄剪辑',
                start: '2026-05-06',
                end: '2026-05-08',
                progress: 100,
                phase: 'phase8',
                phaseName: '阶段八：母亲节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄温馨主题素材（母子互动、妈妈使用产品瞬间）；2. 剪辑情感类抖音短视频，引发共鸣；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段九：端午节
            {
                id: 'shoot-p9-1',
                name: '视频拍摄剪辑',
                start: '2026-06-15',
                end: '2026-06-17',
                progress: 100,
                phase: 'phase9',
                phaseName: '阶段九：端午节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄粽子制作、礼盒展示、赛龙舟场景等素材；2. 剪辑融入端午元素的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十：父亲节
            {
                id: 'shoot-p10-1',
                name: '视频拍摄剪辑',
                start: '2026-06-15',
                end: '2026-06-17',
                progress: 100,
                phase: 'phase10',
                phaseName: '阶段十：父亲节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄男士产品使用、父子互动画面等素材；2. 剪辑符合男士审美风格的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十一：七夕节
            {
                id: 'shoot-p11-1',
                name: '视频拍摄剪辑',
                start: '2026-08-15',
                end: '2026-08-17',
                progress: 100,
                phase: 'phase11',
                phaseName: '阶段十一：七夕节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄情侣约会、珠宝展示、旅游景点浪漫画面等素材；2. 剪辑情感类抖音短视频，引发情侣共鸣；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十二：中元节
            {
                id: 'shoot-p12-1',
                name: '视频拍摄剪辑',
                start: '2026-08-23',
                end: '2026-08-25',
                progress: 100,
                phase: 'phase12',
                phaseName: '阶段十二：中元节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄祭祀用品展示、鲜花搭配等素材，画面风格庄重；2. 剪辑符合节日氛围的抖音短视频，避免过度娱乐化；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十三：教师节
            {
                id: 'shoot-p13-1',
                name: '视频拍摄剪辑',
                start: '2026-09-01',
                end: '2026-09-05',
                progress: 100,
                phase: 'phase13',
                phaseName: '阶段十三：教师节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄学生送礼物、教师使用文具书籍画面等素材；2. 剪辑情感类抖音短视频，引发感恩之情；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十四：中秋节
            {
                id: 'shoot-p14-1',
                name: '视频拍摄剪辑',
                start: '2026-09-21',
                end: '2026-09-23',
                progress: 100,
                phase: 'phase14',
                phaseName: '阶段十四：中秋节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄月饼制作、家庭团聚、中秋夜景等素材；2. 剪辑团圆氛围浓厚的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十五：国庆节
            {
                id: 'shoot-p15-1',
                name: '视频拍摄剪辑',
                start: '2026-09-28',
                end: '2026-09-29',
                progress: 100,
                phase: 'phase15',
                phaseName: '阶段十五：国庆节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄国旗元素、旅游景点、产品使用场景等素材；2. 剪辑融入爱国元素与长假氛围的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十六：重阳节
            {
                id: 'shoot-p16-1',
                name: '视频拍摄剪辑',
                start: '2026-10-15',
                end: '2026-10-16',
                progress: 100,
                phase: 'phase16',
                phaseName: '阶段十六：重阳节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄老年人使用产品、家庭陪伴登高画面等素材；2. 剪辑温馨敬老氛围的抖音短视频；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十七：双11
            {
                id: 'shoot-p17-1',
                name: '批量拍摄剪辑',
                start: '2026-10-25',
                end: '2026-11-05',
                progress: 100,
                phase: 'phase17',
                phaseName: '阶段十七：双11',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 批量拍摄各品类宣推素材，突出性价比与优惠；2. 剪辑符合狂欢氛围的短视频（企业号5条/天、职人号10条/天，前3月）；3. 带热点话题、POI定位及团购链接'
            },
            // 阶段十八：双十二
            {
                id: 'shoot-p18-1',
                name: '批量拍摄剪辑',
                start: '2026-12-05',
                end: '2026-12-07',
                progress: 100,
                phase: 'phase18',
                phaseName: '阶段十八：双十二',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄爆款展示、优惠对比、抢购场景等促销素材；2. 剪辑高节奏、强吸引力的短视频（每日5条企业号+10条职人号）；3. 带#双十二囤货 #年终大促等话题、POI定位及团购链接'
            },
            // 阶段十九：圣诞节
            {
                id: 'shoot-p19-1',
                name: '视频拍摄剪辑',
                start: '2026-12-20',
                end: '2026-12-22',
                progress: 100,
                phase: 'phase19',
                phaseName: '阶段十九：圣诞节',
                owner: '张龙',
                team: '段铭真、王瑞锋',
                content: '1. 拍摄圣诞礼品、主题餐饮、门店布置等素材；2. 剪辑圣诞氛围浓厚的抖音短视频；3. 带热点话题、POI定位及团购链接'
            }
        ];

        // 初始化甘特图
        let gantt = new Gantt("#gantt-chart", ganttData, {
            header_height: 50,
            bar_height: 24,
            bar_corner_radius: 4,
            bar_fill: function(task) {
                return `background-color: theme('colors.${task.phase}')`;
            },
            task_text_align: 'left',
            task_text_font_size: '13px',
            axis_format: 'YYYY-MM-DD',
            min_date: new Date('2025-12-20'),
            max_date: new Date('2027-01-01'),
            on_click: function(task) {
                showTaskDetails(task);
            },
            on_date_change: function(task, start, end) {
                task.start = start;
                task.end = end;
            },
            on_progress_change: function(task, progress) {
                task.progress = progress;
            },
            on_view_change: function(mode) {
                console.log(mode);
            }
        });

        // 显示任务详情
        function showTaskDetails(task) {
            document.getElementById('modal-title').textContent = task.name;
            document.getElementById('modal-phase').textContent = task.phaseName;
            document.getElementById('modal-time').textContent = `${task.start} 至 ${task.end}`;
            document.getElementById('modal-owner').textContent = task.owner;
            document.getElementById('modal-team').textContent = task.team;
            document.getElementById('modal-content').innerHTML = task.content.replace(/；/g, '<br/><br/>').replace(/1\. /g, '<br/>1. ').replace(/2\. /g, '<br/>2. ').replace(/3\. /g, '<br/>3. ');
            document.getElementById('task-modal').classList.remove('hidden');
        }

        // 关闭弹窗
        document.getElementById('close-modal').addEventListener('click', function() {
            document.getElementById('task-modal').classList.add('hidden');
        });
        document.getElementById('modal-close-btn').addEventListener('click', function() {
            document.getElementById('task-modal').classList.add('hidden');
        });

        // 筛选功能
        document.getElementById('phase-filter').addEventListener('change', filterTasks);
        document.getElementById('owner-filter').addEventListener('change', filterTasks);
        document.getElementById('reset-filter').addEventListener('click', function() {
            document.getElementById('phase-filter').value = 'all';
            document.getElementById('owner-filter').value = 'all';
            filterTasks();
        });

        function filterTasks() {
            const phaseFilter = document.getElementById('phase-filter').value;
            const ownerFilter = document.getElementById('owner-filter').value;
            
            const filteredData = ganttData.filter(task => {
                const phaseMatch = phaseFilter === 'all' || task.phase === phaseFilter;
                const ownerMatch = ownerFilter === 'all' || task.owner === ownerFilter;
                return phaseMatch && ownerMatch;
            });
            
            // 重新渲染甘特图
            gantt = new Gantt("#gantt-chart", filteredData, {
                header_height: 50,
                bar_height: 24,
                bar_corner_radius: 4,
                bar_fill: function(task) {
                    return `background-color: theme('colors.${task.phase}')`;
                },
                task_text_align: 'left',
                task_text_font_size: '13px',
                axis_format: 'YYYY-MM-DD',
                min_date: new Date('2025-12-20'),
                max_date: new Date('2027-01-01'),
                on_click: function(task) {
                    showTaskDetails(task);
                }
            });
        }

        // 初始化样式
        document.querySelectorAll('.gantt-task').forEach(task => {
            task.classList.add('cursor-pointer');
        });

        // 响应式调整
        window.addEventListener('resize', function() {
            gantt.render();
        });
    </script>
</body>
</html>